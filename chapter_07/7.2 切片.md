## 概念

切片是对一个数组连续片段的引用，所以切片是一个引用类型。这个片段可以是整个数组，
或者是由起始和终止索引表示的一些项的子集。切片提供了一个相关数组的动态窗口。

切片是可索引的，并且可以用len()函数获取长度。

计算容量的函数cap()可以测量切片最长可以达到多少，它等于切片从
第一个元素开始，到相关数组末尾的元素个数。

多个切片如果表示同一个数组的片段，它们可以共享数据;因此一个切片和相关数组的其他切片是共享存储的。

声明切片的格式是： `var slice1 []type = arr1[start:end]`。

切片在内存中的组织方式实际上是有一个3个域的结构体：指向相关数组的指针，切片长度以及切片容量。
![slice in memory](7.2%20slice%20in%20memory.png)


注意，绝对不要用指针指向slice。切片本身已经是一个引用类型，所以它本身就是一个指针。


## 将切片传递给函数

如果你有一个函数需要对数组做操作，可能总是需要把参数声明为切片。当你调用该函数时，
把数组分片，创建一个切片引用并传递给该函数。

```go
func sum(a []int) int {
    s := 0
    for i := 0; i < len(a); i++ {
        s += a[i]
    }
    return s
}

func main() {
    var arr = [5]int{0, 1, 2, 3, 4}
    sum(arr[:])
}
```

## 用make() 创建一个切片

当相关数组还没有定义时，我们可以使用make()函数来创建一个切片，
`slice1:=make([]type, len)`
`slice1:=make([]type, len, cap)`


## new和make的区别

都是在堆上分配内存，但是它们的行为不同，适用于不同的类型。

* new(T)为每个新的类型T分配一片内存，初始化为0并且返回类型*T的内存地址;这种方法返回一个指向类型为T，它适用于值类型如数组和结构体
* make(T)返回一个类型为T的初始值，适用于3种内建的引用类型：切片 map和channel

![difference of new and make](7.3%20difference%20between%20new%20and%20make.png)




